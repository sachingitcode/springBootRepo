<v-app id="addApplication3">
    <v-form ref="form" v-model="valid" lazy-validation>
        <v-container fluid>
            <v-layout>
                <v-flex xs12 sm12 md12 lg12 xl6 text-center>
                    <h6><b>(CATEGORY II)</b></h6>
                </v-flex>
            </v-layout>
            <v-layout>
                <v-flex xs12 sm12 md12 lg12 xl12 text-center>
                    <h2>PROFESSIONAL DEVELOPMENT, CO-CURRICULAR AND EXTENSION ACTIVITIES</h2>
                </v-flex>
            </v-layout>

            <v-layout>
                <v-flex xs12 sm12 md12 lg12 xl12>
                    <h6><b>11. (a) Student related co-curricular, extension and filed based activities.</b>
                        (Please attach separate sheet, if necessary) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Max. Score 15)
                    </h6>
                </v-flex>

            </v-layout>
            <v-layout>
                <v-flex xs12 sm12 md12 lg12 xl12 >

                    <h6><b>
                            (i) Discipline related co-curricular activities (e.g. remedial classes, career counseling, study visit,
                            student seminar and other events)
                        </b>
                    </h6>
                </v-flex>
            </v-layout>

            <v-layout row wrap>
                <v-flex xs12 sm12 md12 lg12 xl6>

                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>S.No.</th>
                                <th>Name of the Activity</th>
                                <th>Academic Year</th>
                                <th>Total hours Spent in the Year for the activity</th>
                                <th>Self Appraisal Score (Total Hrs/10)</th>
                                <th>Verified API Score</th>

                            </tr>
                        </thead>
                        <tbody>
                            <tr v-for="(input, index) in userData.co_act" :key="index">
                                <td>
                                    {{index+1}}
                                </td>
                                <td>
                        <v-text-field placeholder="Activity Name" v-model="input.act_name" :rules="[rules.required]"></v-text-field>
                        </td>
                        <td>
                        <v-text-field label="" placeholder="YYYY" :counter="4" v-model="input.acad_year" :rules="[rules.yearr,rules.yeard,rules.yeari,rules.number]"></v-text-field>
                        </td>
                        <td>
                        <v-text-field placeholder="Total Hours" v-model="input.total_hr" :rules="[rules.required,rules.number]"></v-text-field>
                        </td>
                        <td>
                        <v-text-field placeholder="Self Appraisal Score" v-model="input.appr_scr" :rules="[rules.required,rules.number]"></v-text-field>
                        </td>
                        <td>
                        <v-text-field placeholder="Verified API Score" v-model="input.ve_scr" :rules="[rules.required,rules.number]"></v-text-field>
                        </td>
                        </tr>
                        </tbody>
                    </table>
                </v-flex>
                <v-flex xs12 sm12 md12 lg12 xl6>
                    <v-btn icon color="green" @click="addRow1">
                        <v-icon color="white">add</v-icon>
                    </v-btn>
                    <v-btn icon color="red" @click="deleteRow1">
                        <v-icon color="white">remove</v-icon>
                    </v-btn>

                </v-flex>
            </v-layout>
            <v-layout>
                <v-flex xs12 sm12 md12 lg12 xl12 >

                    <h6><b>
                            (ii) Other co-curricular activities (Cultural Sports, NSS, NCC etc.)
                        </b>
                    </h6>
                </v-flex>
            </v-layout>
            <v-layout row wrap>
                <v-flex xs12 sm12 md12 lg12 xl6>

                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>S.No.</th>
                                <th>Name of the Activity</th>
                                <th>Academic Year</th>
                                <th>Total hours Spent in the Year for the activity</th>
                                <th>Self Appraisal Score (Total Hrs/10)</th>
                                <th>Verified API Score</th>

                            </tr>
                        </thead>
                        <tbody>
                            <tr v-for="(input, index) in userData.oco_act" :key="index">
                                <td>
                                    {{index+1}}
                                </td>
                                <td>
                        <v-text-field placeholder="Activity Name" v-model="input.act_name" :rules="[rules.required]"></v-text-field>
                        </td>
                        <td>
                        <v-text-field label="" placeholder="YYYY" :counter="4" v-model="input.acad_year" :rules="[rules.yearr,rules.yeard,rules.yeari,rules.number]"></v-text-field>
                        </td>
                        <td>
                        <v-text-field placeholder="Total Hours" v-model="input.total_hr" :rules="[rules.required,rules.number]"></v-text-field>
                        </td>
                        <td>
                        <v-text-field placeholder="Self Appraisal Score" v-model="input.appr_scr" :rules="[rules.required,rules.number]"></v-text-field>
                        </td>
                        <td>
                        <v-text-field placeholder="Verified API Score" v-model="input.ve_scr" :rules="[rules.required,rules.number]"></v-text-field>
                        </td>
                        </tr>
                        </tbody>
                    </table>
                </v-flex>
                <v-btn icon color="green" @click="addRow2">
                    <v-icon color="white">add</v-icon>
                </v-btn>
                <v-btn icon color="red" @click="deleteRow2">
                    <v-icon color="white">remove</v-icon>
                </v-btn>
            </v-layout>

            <v-layout>
                <v-flex xs12 sm12 md12 lg12 xl12 >
                    <h6>
                        <b>
                            (iii) Extension and dissemination activities (public/popular lectures/talks/seminars etc.)
                        </b>
                    </h6>
                </v-flex>
            </v-layout>
            <v-layout row wrap>
                <v-flex xs12 sm12 md12 lg12 xl6>

                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>S.No.</th>
                                <th>Name of the Activity</th>
                                <th>Academic Year</th>
                                <th>Total hours Spent in the Year for the activity</th>
                                <th>Self Appraisal Score (Total Hrs/10)</th>
                                <th>Verified API Score</th>

                            </tr>
                        </thead>
                        <tbody>
                            <tr v-for="(input, index) in userData.edco_act" :key="index">
                                <td>
                                    {{index+1}}
                                </td>
                                <td>
                        <v-text-field placeholder="Activity Name" v-model="input.act_name" :rules="[rules.required]"></v-text-field>
                        </td>
                        <td>
                        <v-text-field label="" placeholder="YYYY" :counter="4" v-model="input.acad_year" :rules="[rules.yearr,rules.yeard,rules.yeari,rules.number]"></v-text-field>
                        </td>
                        <td>
                        <v-text-field placeholder="Total Hours" v-model="input.total_hr" :rules="[rules.required,rules.number]"></v-text-field>
                        </td>
                        <td>
                        <v-text-field placeholder="Self Appraisal Score" v-model="input.appr_scr" :rules="[rules.required,rules.number]"></v-text-field>
                        </td>
                        <td>
                        <v-text-field placeholder="Verified API Score" v-model="input.ve_scr" :rules="[rules.required,rules.number]"></v-text-field>
                        </td>
                        </tr>
                        </tbody>
                    </table>
                </v-flex>
                <v-btn icon color="green" @click="addRow3">
                    <v-icon color="white">add</v-icon>
                </v-btn>
                <v-btn icon color="red" @click="deleteRow3">
                    <v-icon color="white">remove</v-icon>
                </v-btn>
            </v-layout>


            <v-layout>
                <v-flex xs12 sm12 md12 lg12 xl12>
                    <h6><b>
                            11. (b) Contribution to corporate life and management of the department and institution
                            through participation in academic and administrative committees and responsibilities. <br>
                            (Please attach separate sheet, if necessary ) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            (Max. Score 15)

                        </b>
                    </h6>
                </v-flex>

            </v-layout>
            <v-layout>
                <v-flex xs12 sm12 md12 lg12 xl12 >

                    <h6><b>
                            (i) Administrative responsibility (including as Dean/Principal/Chairperson/Convener/Teacher-
                            incharge/Warden of Hostels/similar other duties that require regular office hrs for its discharge)

                        </b>
                    </h6>
                </v-flex>
            </v-layout>
            <v-layout row wrap>
                <v-flex xs12 sm12 md12 lg12 xl6>

                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>S.No.</th>
                                <th>Name of the Activity</th>
                                <th>Academic Year</th>
                                <th>Total hours Spent in the Year for the activity</th>
                                <th>Self Appraisal Score (Total Hrs/10)</th>
                                <th>Verified API Score</th>

                            </tr>
                        </thead>
                        <tbody>
                            <tr v-for="(input, index) in userData.edco_actc" :key="index">
                                <td>
                                    {{index+1}}
                                </td>
                                <td>
                        <v-text-field placeholder="Activity Name" v-model="input.act_name" :rules="[rules.required]"></v-text-field>
                        </td>
                        <td>
                        <v-text-field label="" placeholder="YYYY" :counter="4" v-model="input.acad_year" :rules="[rules.yearr,rules.yeard,rules.yeari,rules.number]"></v-text-field>
                        </td>
                        <td>
                        <v-text-field placeholder="Total Hours" v-model="input.total_hr" :rules="[rules.required,rules.number]"></v-text-field>
                        </td>
                        <td>
                        <v-text-field placeholder="Self Appraisal Score" v-model="input.appr_scr" :rules="[rules.required,rules.number]"></v-text-field>
                        </td>
                        <td>
                        <v-text-field placeholder="Verified API Score" v-model="input.ve_scr" :rules="[rules.required,rules.number]"></v-text-field>
                        </td>
                        </tr>
                        </tbody>
                    </table>
                </v-flex>
                <v-btn icon color="green" @click="addRow4">
                    <v-icon color="white">add</v-icon>
                </v-btn>
                <v-btn icon color="red" @click="deleteRow4">
                    <v-icon color="white">remove</v-icon>
                </v-btn>
            </v-layout>

            <br>
            <br>
            <br>


            <h6><b>  (ii) Participation in Board of Studies, Academic and Administrative Committees.</b></h6>

            <v-layout row wrap>
                <v-flex xs12 sm12 md12 lg12 xl6>

                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>S.No.</th>
                                <th>Name of the Activity</th>
                                <th>Academic Year</th>
                                <th>Total hours Spent in the Year for the activity</th>
                                <th>Self Appraisal Score (Total Hrs/10)</th>
                                <th>Verified API Score</th>

                            </tr>
                        </thead>
                        <tbody>
                            <tr v-for="(input, index) in userData.edco_acta" :key="index">
                                <td>
                                    {{index+1}}
                                </td>
                                <td>
                        <v-text-field placeholder="Activity Name" v-model="input.act_name" :rules="[rules.required]"></v-text-field>
                        </td>
                        <td>
                        <v-text-field label="" placeholder="YYYY" :counter="4" v-model="input.acad_year" :rules="[rules.yearr,rules.yeard,rules.yeari,rules.number]"></v-text-field>
                        </td>
                        <td>
                        <v-text-field placeholder="Total Hours" v-model="input.total_hr" :rules="[rules.required,rules.number]"></v-text-field>
                        </td>
                        <td>
                        <v-text-field placeholder="Self Appraisal Score" v-model="input.appr_scr" :rules="[rules.required,rules.number]"></v-text-field>
                        </td>
                        <td>
                        <v-text-field placeholder="Verified API Score" v-model="input.ve_scr" :rules="[rules.required,rules.number]"></v-text-field>
                        </td>
                        </tr>
                        </tbody>
                    </table>
                </v-flex>
                <v-btn icon color="green" @click="addRow5">
                    <v-icon color="white">add</v-icon>

                </v-btn>
                <v-btn icon color="red" @click="deleteRow5">
                    <v-icon color="white">remove</v-icon>
                </v-btn>
            </v-layout>


            <br>
            <br>
            <br>


            <h6><b>  11. (c)
                    Professional Development activities(such as participation in seminars, conferences short term training
                    courses, industrial experience, talks, lectures in refresher/faculty development courses, dissemination
                    and general articles and any other contribution)(Please attach separate sheet, if necessary)
                    (Max. Score 15)</b></h6>

            <v-layout row wrap>
                <v-flex xs12 sm12 md12 lg12 xl6>

                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>S.No.</th>
                                <th>Name of the Activity</th>
                                <th>Academic Year</th>
                                <th>Total hours Spent in the Year for the activity</th>
                                <th>Self Appraisal Score (Total Hrs/10)</th>
                                <th>Verified API Score</th>

                            </tr>
                        </thead>
                        <tbody>
                            <tr v-for="(input, index) in userData.edco_actb" :key="index">
                                <td>
                                    {{index+1}}
                                </td>
                                <td>
                        <v-text-field placeholder="Activity Name" v-model="input.act_name" :rules="[rules.required]"></v-text-field>
                        </td>
                        <td>
                        <v-text-field label="" placeholder="YYYY" :counter="4" v-model="input.acad_year" :rules="[rules.yearr,rules.yeard,rules.yeari,rules.number]"></v-text-field>
                        </td>
                        <td>
                        <v-text-field placeholder="Total Hours" v-model="input.total_hr" :rules="[rules.required,rules.number]"></v-text-field>
                        </td>
                        <td>
                        <v-text-field placeholder="Self Appraisal Score" v-model="input.appr_scr" :rules="[rules.required,rules.number]"></v-text-field>
                        </td>
                        <td>
                        <v-text-field placeholder="Verified API Score" v-model="input.ve_scr" :rules="[rules.required,rules.number]"></v-text-field>
                        </td>
                        </tr>
                        </tbody>
                    </table>
                </v-flex>
                <v-btn icon color="green" @click="addRow6">
                    <v-icon color="white">add</v-icon>

                </v-btn>
                <v-btn icon color="red" @click="deleteRow6">
                    <v-icon color="white">remove</v-icon>
                </v-btn>
            </v-layout>
            <div th:replace="fragments/formelements.html :: footerbuttons(previous='HandlePrevious', saveasDraft='saveasDraft',HandleSubmit='HandleSubmit')"></div>

        </v-container>
    </v-form>
</v-app>
<script th:inline="javascript">
    var myObject = new Vue({
        el: "#addApplication3",
        data: {
            valid: true,
            currentId: /*[[${currentId}]]*/ '',
            nextId: /*[[${next}]]*/ '',
            prevId: /*[[${previous}]]*/ '',
            id: 0,
            userData: {
                co_act: [{
                        act_name: '',
                        acad_year: '',
                        total_hr: '',
                        appr_scr: '',
                        ve_scr: ''
                    }],
                oco_act: [{
                        act_name: '',
                        acad_year: '',
                        total_hr: '',
                        appr_scr: '',
                        ve_scr: ''
                    }],
                edco_act: [{
                        act_name: '',
                        acad_year: '',
                        total_hr: '',
                        appr_scr: '',
                        ve_scr: ''
                    }],
                edco_actc: [{
                        act_name: '',
                        acad_year: '',
                        total_hr: '',
                        appr_scr: '',
                        ve_scr: ''
                    }],
                edco_acta: [{
                        act_name: '',
                        acad_year: '',
                        total_hr: '',
                        appr_scr: '',
                        ve_scr: ''
                    }],
                edco_actb: [{
                        act_name: '',
                        acad_year: '',
                        total_hr: '',
                        appr_scr: '',
                        ve_scr: ''
                    }]
            },

            rules: {
                required: v => !!v || 'Field is required',
                between: v => (v && v.length <= 50 && v.length >= 10) || 'Length must be between 10-50 characters',
                length: v => (v && v.length <= 50) || 'Name must be less than 50 characters',
                number: v => /^(\(?\+?[0-9]*\)?)?[0-9_\- \(\)]*$/.test(v) || 'Only Numbers',
                yeari: v => /^(19|20)\d{2}$/.test(v) || 'Invalid Year',
                yearr: v => !!v || 'Year is required',
                yeard: v => (v && v.length === 4) || 'Year must be 4 digits',
                email: v => /.+@.+/.test(v) || 'E-mail must be valid',
                lengthp: v => (v && v.length <= 10) || 'Number must be 10 digits',

            },

//            
//            fieldRules: [
//                v => !!v || 'Field is required'
//            ],
//            emailRules: [
//                v => !!v || 'E-mail is required',
//                v => /.+@.+/.test(v) || 'E-mail must be valid'
//            ],
//            yearRules: [
//                v => !!v || 'Year is required',
//                v => (v && v.length === 4) || 'Year must be 4 digits',
//                v => /^(\(?\+?[0-9]*\)?)?[0-9_\- \(\)]*$/.test(v) || 'Only Numbers',
//                v => /^(19|20)\d{2}$/.test(v) || 'Invalid Year'
//            ],
//            numberRules: [
//                v => !!v || 'Field is required',
//                v => /^(\(?\+?[0-9]*\)?)?[0-9_\- \(\)]*$/.test(v) || 'Only Numbers'
//            ]
        },

        methods: {
            addRow1() {
                this.userData.co_act.push({
                    act_name: '',
                    acad_year: '',
                    total_hr: '',
                    appr_scr: '',
                    ve_scr: ''
                })
            },
            addRow2() {
                this.userData.oco_act.push({
                    act_name: '',
                    acad_year: '',
                    total_hr: '',
                    appr_scr: '',
                    ve_scr: ''
                })
            },
            addRow3() {
                this.userData.edco_act.push({
                    act_name: '',
                    acad_year: '',
                    total_hr: '',
                    appr_scr: '',
                    ve_scr: ''
                })
            },
            addRow4() {
                this.userData.edco_actc.push({
                    act_name: '',
                    acad_year: '',
                    total_hr: '',
                    appr_scr: '',
                    ve_scr: ''
                })
            },
            addRow5() {
                this.userData.edco_acta.push({
                    act_name: '',
                    acad_year: '',
                    total_hr: '',
                    appr_scr: '',
                    ve_scr: ''
                })
            },
            addRow6() {
                this.userData.edco_actb.push({
                    act_name: '',
                    acad_year: '',
                    total_hr: '',
                    appr_scr: '',
                    ve_scr: ''
                })
            },
            deleteRow1() {
                var myData = this.userData.co_act;
                if (myData.length > 1) {
                    this.userData.co_act.splice(-1, 1)
                }
            },
            deleteRow2() {
                var myData = this.userData.oco_act;
                if (myData.length > 1) {
                    this.userData.oco_act.splice(-1, 1)
                }
            },
            deleteRow3() {
                var myData = this.userData.edco_act;
                if (myData.length > 1) {
                    this.userData.edco_act.splice(-1, 1)
                }
            },
            deleteRow4() {
                var myData = this.userData.edco_actc;
                if (myData.length > 1) {
                    this.userData.edco_actc.splice(-1, 1)
                }
            },
            deleteRow5() {
                var myData = this.userData.edco_acta;
                if (myData.length > 1) {
                    this.userData.edco_acta.splice(-1, 1)
                }
            },
            deleteRow6() {
                var myData = this.userData.edco_actb;
                if (myData.length > 1) {
                    this.userData.edco_actb.splice(-1, 1)
                }
            },
            check() {
                console.log('data==>>');
                var myData = this.userData.co_act;
                for (var i in myData) {
                    console.log(myData[i].one);
                }
            },
            validate() {
                if (this.$refs.form.validate()) {
                    this.snackbar = true
                }
            },
            reset() {
                this.$refs.form.reset()
            },
            saveasDraft() {
                var currentId = removeQuot(this.currentId);
                var nextId = removeQuot(this.nextId);

                axios.post('/saveData',
                        {
                            "id": currentId,
                            "savedId": this.id,
                            "userData": this.userData
                        })

                        .then(response => {
//                            alert("Response==>>" + response);
//                            alert(nextId);
                            if (nextId !== null) {
                                loadForm("707902c6-4a21-11e9-aaf4-8c89a53bcce4");
                            }
                        })
                        .catch(e => {
                            alert("Error");
                        })

            },
            HandleSubmit() {
                var currentId = removeQuot(this.currentId);
                var nextId = removeQuot(this.nextId);
//                alert("currentId==>>" + currentId);
//                alert("nextId==>>" + nextId);
//                alert("savedID==>>" + this.id);
                axios.post('/saveData',
                        {
                            "id": currentId,
                            "savedId": this.id,
                            "userData": this.userData
                        })
                        .then(response => {
//                            alert("Response==>>" + response);
//                            alert(nextId);
                            if (nextId !== null) {
                                loadForm(nextId);
                            }
                        })
                        .catch(e => {
                            alert("Error");
                        })

            },
            HandlePrevious() {
                var currentId = removeQuot(this.currentId);
                var prevId = removeQuot(this.prevId);
                if (prevId !== null) {
                    loadForm(prevId);
                }
            }
        },
        created() {
            var currentId = removeQuot(this.currentId);
            axios.get('/findById?id=' + currentId)
                    .then(response => {
                        if (response.data != '') {
                            this.userData = response.data.dt;
                            this.id = response.data.id;
                        }


////                     
//                        alert("Response==>>" + response.data);
//                        alert("Response==>>" + response.data.id);
                    })
                    .catch(e => {
                        alert("Error" + e);
                    })
        }
    });

</script>